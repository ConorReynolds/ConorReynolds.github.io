<!DOCTYPE html>
<html lang="en-gb">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    About This Site | Conor Reynolds
  </title>





  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous">

  <link rel="preload" href="/fonts/SourceCodePro/SourceCodePro-Bold.otf.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/fonts/SourceCodePro/SourceCodePro-BoldIt.otf.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/fonts/SourceCodePro/SourceCodePro-Medium.otf.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/fonts/SourceCodePro/SourceCodePro-MediumIt.otf.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="stylesheet" type="text/css" href="/main.css" />
</head>

<body><div class="header"><div id="title-block"><h1>About This Site</h1>

<time datetime="2022-09-23">23 September 2022</time></div>

<div class="nav-container"><div class="nav-top" role="navigation"><a href="/index.html">Home</a>/<a href="/contact.html">Contact</a>/<a href="/cv.html">CV</a>/<a href="/posts.html">Posts</a></div>

<div id="search-wrapper"><form class="searchbar-outer" id="searchbar-outer"><input aria-controls="searchresults-outer" aria-describedby="searchresults-header" autocomplete="off" id="searchbar" name="searchbar" placeholder="Search …" type="search"/></form>
<div class="searchresults-outer" id="searchresults-outer"><div class="searchresults-header" id="searchresults-header"></div></div></div></div></div>

<div id="doc" role="main"><p>This site is built using <a class="extlink" href="https://docs.racket-lang.org/pollen">Pollen,</a> an incredibly flexible tool for creating web books. To oversimplify: Pollen source files go in, written in a markup language of your own design, and HTML comes out. It’s like LaTeX for the web—but where LaTeX is a giant macro preprocessor, Racket is a modern programming language. This turns out to have quite a few benefits. This site is <a class="extlink" href="https://github.com/ConorReynolds/ConorReynolds.github.io">open source,</a> so feel free to have a dig around to see how it works.</p><p>Instead of explaining in detail exactly what makes Pollen great, I’ll provide an example of how I use it.</p><p>I wanted to list my publications on the front page of my site. I also wanted to automate this process, since the job of curating such a list by hand is initially tedious and eventually forgotten outright.</p><p>I already maintain a list of my publications on my Zotero account. In the past I used <a class="extlink" href="https://bibbase.org/">BibBase</a> to present this information on my site, but found that it was extremely finicky to style to my liking, and very slow to load. For longer lists the wait becomes nearly unbearable.</p><p>It occurred to me that this information could be generated at compile time with a small Racket script rather than every time the site is served. Pollen easily facilitates this. Part of the source for the <a class="xref" hyphens="none" href="/index.html">home</a> page looks something like this:</p><div paragraphs="none" smart-typography="none" class="highlight code-wrap"><div class="caption">index.html.pm</div><button class="copy-button" title="Copy snippet to clipboard" onclick="copyAndConfirm(this, String.raw`◊section{Publications}

The following is pulled from my Zotero account. ◊aside{See the ◊extlink[&quot;https://github.com/ConorReynolds/ConorReynolds.github.io/blob/main/src/zotero.rkt&quot;]{source repo} for details on how this is generated.}

◊(cons '@ ◊(bib-items))`)"><i class="fas fa-copy"></i></button><div class="source"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span>◊<span class="k">section</span><span class="p">{</span>Publications}

The following is pulled from my Zotero account. ◊<span class="k">aside</span><span class="p">{</span>See the ◊<span class="k">extlink</span><span class="p">[</span><span class="s2">"https://github.com/ConorReynolds/ConorReynolds.github.io/blob/main/src/zotero.rkt"</span><span class="p">]{</span>source repo} for details on how this is generated.}

◊<span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">@</span><span class="w"> </span><span class="n">◊</span><span class="p">(</span><span class="n">bib-items</span><span class="p">))</span>
</pre></div></td></tr></tbody></table></div>

</div><p>The function <code>bib-items</code> is defined in <a class="extlink" href="https://github.com/ConorReynolds/ConorReynolds.github.io/blob/main/src/zotero.rkt"><code>src/zotero.rkt</code>.</a> It pulls my publications directly from Zotero’s API and constructs a list of divs that I can splice into the document. Since this is done at compile time, a user visiting the page just sees plain HTML.</p><p>That’s all there is to it. It loads faster, it’s easier to customise, and it provides almost as much automation—all for a fraction of the time I spent tweaking BibBase. <span class="tooltip" role="button" aria-expanded="false" tabindex="0" onclick="this.classList.toggle(&quot;show-tooltip&quot;); toggleAriaExpanded(this);"><i class="fa fa-plus"></i><span class="tooltip-inner">Though, if this isn’t your cup of tea, I would still highly recommend BibBase as an alternative.</span></span></p><h2 id="Full-Text Search" class="section">Full-Text Search<a class="anchor" href="#Full-Text Search" title="permalink to this section"><i class="fas fa-link"></i></a></h2><p>The site comes with non-fuzzy full-text search. This was a feature that I created for another project I’m working on, but it works for any(?) Pollen-generated website, so I figured I’d add it for fun. It’s basically a thin wrapper over <a class="extlink" href="http://elasticlunr.com/">elasticlunr</a> and is <em>very</em> barebones, but it’s fast and gets the job done.</p><p>Some known weirdness includes (but is certainly not limited to):</p><ul class="loose-list"><li>There’s some incongruity between the actual search term and what elasticlunr matches due to its <a class="extlink" href="http://elasticlunr.com/docs/stemmer.js.html">stemmer.</a> This can prevent the searcher hook from finding the term that was actually matched.</li><li>Sometimes hidden places are searched. <span class="tooltip" role="button" aria-expanded="false" tabindex="0" onclick="this.classList.toggle(&quot;show-tooltip&quot;); toggleAriaExpanded(this);"><i class="fa fa-plus"></i><span class="tooltip-inner">Like these asides, for example.</span></span> Since they’re hidden, the browser’s search functionality—invoked in JS as <code>window.find</code>—can’t find them.</li></ul><p>While it would be nice to include a more detailed preview of the context of your search, like for <a class="extlink" href="https://github.com/rust-lang/mdBook">mdBook-generated sites,</a> it seems like overkill. In practice, the search feature was intended primarily to facilitate keyboard-first navigation. To this end, the forward-slash character is set to focus the search bar.</p><p>Plenty of sites (like GitHub) and browsers (like Firefox) have this sort of functionality, but I mean—is overriding this considered annoying? I have no idea. Let me know if this is annoying.</p><h2 id="Syntax Highlighting" class="section">Syntax Highlighting<a class="anchor" href="#Syntax Highlighting" title="permalink to this section"><i class="fas fa-link"></i></a></h2><p>Pollen comes with a <a class="extlink" href="https://git.matthewbutterick.com/mbutterick/pollen/src/commit/c182a30f57ea5096440aea3d097f5fe3b78bb236/pollen/unstable/pygments.rkt#L157"><code>highlight</code></a> function, which statically generates syntax-highlighted code using <a class="extlink" href="https://pygments.org/">Pygments.</a> Most styles didn’t really suit the site, so <a class="extlink" href="https://github.com/ConorReynolds/ConorReynolds.github.io/blob/main/styles/highlight.scss">I wrote my own.</a></p><p>I also wrote a Pollen lexer, which you can find <a class="extlink" href="https://github.com/ConorReynolds/ConorReynolds.github.io/blob/main/pygments/pollen.py">here.</a> It’s almost certainly <em>far</em> too simple, but it works fine on the basic snippets I’ve tried.</p><p>The easiest way to add new lexers, it seems, is to just fork a copy of Pygments, add the lexer directly, rebuild the lexer mapping with <code>make mapfiles</code> (as <a class="extlink" href="https://pygments.org/docs/lexerdevelopment/#adding-and-testing-a-new-lexer">described in the docs</a>), then pip install your local copy of Pygments. You can throw your custom styles in there too while you’re at it.</p><h2 id="Full Disclosure" class="section">Full Disclosure<a class="anchor" href="#Full Disclosure" title="permalink to this section"><i class="fas fa-link"></i></a></h2><p>I use <a class="extlink" href="https://clicky.com">clicky</a> for tracking. I just want a basic overview of traffic, and maybe some insight into where traffic is coming from. No personal data is logged.</p><p>Want to opt out? You probably have already. If you have virtually any sort of ad blocker installed—and at this point, who doesn’t?—clicky will be blocked. If you have JavaScript disabled, the clicky script won’t load. (But neither will some other useful features.)</p></div>



<div class="horizontal-rule"></div>

<div id="footer">© Conor Reynolds
  2022  
<a class="fab fa-github fa-1x" href="https://github.com/ConorReynolds" title="GitHub"></a>  
<a class="fab fa-gitlab fa-1x" href="https://gitlab.cs.nuim.ie/creynolds" title="GitLab"></a>  
<a class="fab fa-twitter fa-1x" href="https://twitter.com/ConorEReynolds" title="Twitter"></a>  
<a class="fab fa-linkedin-in fa-1x" href="https://www.linkedin.com/in/conor-reynolds-931049258/" title="LinkedIn"></a>  
<a class="fas fa-envelope fa-1x" href="mailto:conor.reynolds@mu.ie" title="Email"></a></div>
</body>

<script src="/js/utils.js"></script>
<script src="/js/checkParams.js"></script>

<script src="/js/elasticlunr.js"></script>
<script src="/js/search-index.js"></script>
<script src="/js/searcher.js"></script>

<script async src="//static.getclicky.com/101382862.js"></script>

</html>