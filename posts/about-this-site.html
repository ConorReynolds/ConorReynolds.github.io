<!DOCTYPE html>
<html lang="en-gb">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    About This Site
    | Conor Reynolds
  </title>



  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=PT+Sans+Narrow:wght@400;700&family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous">

  <link rel="preload" href="/fonts/FiraCode/FiraCode-Bold.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/fonts/FiraCode/FiraCode-Light.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/fonts/FiraCode/FiraCode-Medium.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/fonts/FiraCode/FiraCode-Regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/fonts/FiraCode/FiraCode-SemiBold.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="stylesheet" type="text/css" href="/main.css" />
</head>

<body><div class="nav-top" role="navigation"><a href="/index.html">Home</a>/<a href="/contact.html">Contact</a>/<a href="/cv.html">CV</a>/<a href="/posts.html">Posts</a></div>

<div id="search-wrapper"><form class="searchbar-outer" id="searchbar-outer"><input aria-controls="searchresults-outer" aria-describedby="searchresults-header" autocomplete="off" id="searchbar" name="searchbar" placeholder="Search …" type="search"/></form>
<div class="searchresults-outer" id="searchresults-outer"><div class="searchresults-header" id="searchresults-header"></div></div></div>

<div id="doc" role="main"><div id="title-block"><h1>About This Site</h1><div class="subtitle">Pollen + Makefile = all you need</div></div><p>This site is built using <a class="extlink" href="https://docs.racket-lang.org/pollen">Pollen,</a> an incredibly flexible tool for creating web books. To oversimplify: Pollen source files are fed in, written in a markup language of one’s own design, and HTML is spat out. It’s like LaTeX for the web—but where LaTeX is a giant macro preprocessor, Racket is a modern programming language. This site is <a class="extlink" href="https://github.com/ConorReynolds/ConorReynolds.github.io">open source,</a> so feel free to have a dig around to see how it works.</p><p>Instead of explaining in detail exactly what makes Pollen great, I’ll provide an example of how I use it.</p><p>I wanted to list my publications on the front page of my site. I also wanted to automate this process, since the job of curating such a list by hand is initially tedious and eventually forgotten outright.</p><p>I maintain a list of my publications on my Zotero account. In the past I used <a class="extlink" href="https://bibbase.org/">BibBase</a> to present this information on my site, but found that it was extremely finicky to style to my liking, and very slow to load. For longer lists the wait becomes nearly unbearable.</p><p>I eventually got sick of this and decided to generate the information at compile time with a small Racket script. The source for the <a class="xref" hyphens="none" href="/index.html">home</a> page looks something like this:</p><div class="highlight code-wrap"><div class="source"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span>◊<span class="k">section</span><span class="p">{</span>Publications}

The following is pulled from my Zotero account. ◊<span class="k">aside</span><span class="p">{</span>See the ◊<span class="k">extlink</span><span class="p">[</span><span class="s2">"https://github.com/ConorReynolds/ConorReynolds.github.io/blob/main/src/zotero.rkt"</span><span class="p">]{</span>source repo} for details on how this is generated.}
</pre></div></td></tr></tbody></table></div></div><p>The function <code>bib-items</code> is defined in <a class="extlink" href="https://github.com/ConorReynolds/ConorReynolds.github.io/blob/main/src/zotero.rkt"><code>src/zotero.rkt</code>.</a> It pulls my publications directly from Zotero’s API and constructs a list of divs that I can splice into the document. This is done at compile time, so a user visiting the page just sees plain HTML. And that’s it! It loads faster, it’s easier to customise, and it provides almost as much automation—all for a meagre fraction of the time I spent tweaking BibBase. <span class="tooltip" onclick="this.classList.toggle(&quot;show-tooltip&quot;)"><i class="fa fa-plus" aria-hidden="true"></i><span class="tooltip-inner">Though, if this isn’t your cup of tea, I would still highly recommend BibBase as an alternative.</span></span></p><h2 id="Full-Text Search" class="section">Full-Text Search<a class="anchor" href="#Full-Text Search" title="permalink to this section"><i class="fas fa-link"></i></a></h2><p>The site comes with non-fuzzy full-text search. This was a feature that I created for another project I’m working on, but it works for any(?) Pollen-generated website, so I figured I’d add it for fun. It’s basically a thin wrapper over <a class="extlink" href="http://elasticlunr.com/">elasticlunr</a> and is <em>very</em> barebones, but it’s fast and gets the job done.</p><h2 id="Syntax Highlighting" class="section">Syntax Highlighting<a class="anchor" href="#Syntax Highlighting" title="permalink to this section"><i class="fas fa-link"></i></a></h2><p>Pollen comes with a <a class="extlink" href="https://git.matthewbutterick.com/mbutterick/pollen/src/commit/c182a30f57ea5096440aea3d097f5fe3b78bb236/pollen/unstable/pygments.rkt#L157"><code>highlight</code></a> function, which statically generates syntax-highlighted code using <a class="extlink" href="https://pygments.org/">Pygments.</a> I was not particularly enamoured with the provided styles. Some are nice, but few suit the style of this site. There was also no lexer for Pollen. Without one, showcasing examples of Pollen markup would prove some unpleasant combination of tricky and annoying.</p><p>I decided to try writing my own monochrome style. It suits the site, sure, but it’s pretty boring. I also decided to add a Pollen lexer, which you can find <a class="extlink" href="https://github.com/ConorReynolds/ConorReynolds.github.io/blob/main/pygments/pollen.py">here.</a> It’s almost certainly <em>far</em> too simple, but it works fine on the basic snippets I’ve tried.</p><p>The easiest way to add new lexers, it seems, is to just fork a copy of Pygments, add the lexer directly, rebuild the lexer mapping with <code>make mapfiles</code> (as <a class="extlink" href="https://pygments.org/docs/lexerdevelopment/#adding-and-testing-a-new-lexer">described in the docs</a>), then pip install your local copy of Pygments. You can throw your custom styles in there too while you’re at it.</p></div>

<div class="horizontal-rule"></div>

<div id="footer">© Conor Reynolds
  2022  
<a class="fab fa-github fa-1x" href="https://github.com/ConorReynolds" title="GitHub"></a>  
<a class="fab fa-gitlab fa-1x" href="https://gitlab.cs.nuim.ie/creynolds" title="GitLab"></a>  
<a class="fab fa-twitter fa-1x" href="https://twitter.com/ConorEReynolds" title="Twitter"></a>  
<a class="fas fa-envelope fa-1x" href="mailto:conor.reynolds@mu.ie" title="Email"></a></div></body>

<script src="/js/utils.js"></script>
<script src="/js/elasticlunr.js"></script>
<script src="/js/search-index.js"></script>
<script src="/js/searcher.js"></script>
<script src="/js/checkParams.js"></script>

</html>